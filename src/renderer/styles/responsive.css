/* Responsive Design System CSS Variables */

:root {
  /* ========================================
     Fluid Spacing Scale 
     Uses clamp() for smooth scaling between breakpoints
     ======================================== */
  --space-xs: clamp(0.25rem, 1vw, 0.5rem);
  --space-sm: clamp(0.5rem, 2vw, 1rem);
  --space-md: clamp(1rem, 3vw, 1.5rem);
  --space-lg: clamp(1.5rem, 4vw, 2rem);
  --space-xl: clamp(2rem, 5vw, 3rem);
  --space-2xl: clamp(3rem, 6vw, 4rem);
  
  /* ========================================
     Fluid Typography Scale
     Scales smoothly from mobile to desktop
     ======================================== */
  --text-xs: clamp(0.75rem, 1.5vw, 0.875rem);
  --text-sm: clamp(0.875rem, 2vw, 1rem);
  --text-base: clamp(1rem, 2.5vw, 1.125rem);
  --text-lg: clamp(1.125rem, 3vw, 1.25rem);
  --text-xl: clamp(1.25rem, 4vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 5vw, 2rem);
  --text-3xl: clamp(1.875rem, 6vw, 2.5rem);
  
  /* ========================================
     Container Widths
     Responsive max-widths with padding
     ======================================== */
  --container-sm: min(100% - 2rem, 640px);
  --container-md: min(100% - 2rem, 768px);
  --container-lg: min(100% - 2rem, 1024px);
  --container-xl: min(100% - 2rem, 1280px);
  --container-2xl: min(100% - 2rem, 1536px);
  
  /* ========================================
     Component-Specific Responsive Sizing
     ======================================== */
  --sidebar-width: clamp(200px, 20vw, 300px);
  --modal-width: min(90vw, 600px);
  --modal-max-height: min(90vh, 800px);
  --card-min-width: min(100%, 300px);
  --button-min-height: max(44px, 2.75rem); /* Touch-friendly minimum */
  
  /* ========================================
     Grid and Layout
     ======================================== */
  --grid-gap: var(--space-md);
  --section-padding: var(--space-lg);
  --header-height: clamp(3rem, 8vh, 4rem);
  --footer-height: clamp(2.5rem, 6vh, 3rem);
  
  /* ========================================
     Breakpoint-specific values (for CSS calculations)
     ======================================== */
  --breakpoint-xs: 0;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1536px;
  
  /* ========================================
     Z-index Scale
     ======================================== */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;
}

/* ========================================
   Container Queries Support (Modern Browsers)
   Use @container for component-level responsiveness
   ======================================== */

/* Container query setup for responsive components */
.responsive-container {
  container-type: inline-size;
  container-name: component;
}

/* Narrow containers (< 400px) */
@container component (max-width: 400px) {
  .responsive-component {
    --local-spacing: var(--space-sm);
    --local-font-size: var(--text-sm);
    --local-columns: 1;
  }
}

/* Standard containers (400px - 800px) */
@container component (min-width: 401px) and (max-width: 800px) {
  .responsive-component {
    --local-spacing: var(--space-md);
    --local-font-size: var(--text-base);
    --local-columns: 2;
  }
}

/* Wide containers (> 800px) */
@container component (min-width: 801px) {
  .responsive-component {
    --local-spacing: var(--space-lg);
    --local-font-size: var(--text-base);
    --local-columns: 3;
  }
}

/* ========================================
   Traditional Media Queries (Fallback)
   ======================================== */

/* Mobile First: Default styles for smallest screens */

/* Ensure touch-friendly sizes on mobile devices */
@media (max-width: 767px) {
  button,
  a,
  input[type="checkbox"],
  input[type="radio"],
  .clickable,
  .arco-btn {
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  /* Ensure Arco button heights are adequate */
  .arco-btn-size-default,
  .arco-btn-size-small,
  .arco-btn-size-mini {
    height: auto !important;
    min-height: 44px !important;
    padding: 8px 16px !important;
  }
  
  /* Icon buttons need square dimensions */
  .arco-btn-icon-only {
    width: 44px !important;
    height: 44px !important;
    min-width: 44px !important;
    min-height: 44px !important;
  }
}

@media (min-width: 640px) {
  /* Small devices (landscape phones) */
  :root {
    --section-padding: var(--space-lg);
  }
}

@media (min-width: 768px) {
  /* Medium devices (tablets) */
  :root {
    --section-padding: var(--space-xl);
  }
  
  .hide-on-tablet-up {
    display: none !important;
  }
}

@media (min-width: 1024px) {
  /* Large devices (desktops) */
  .hide-on-desktop {
    display: none !important;
  }
  
  .show-on-desktop {
    display: block !important;
  }
}

@media (min-width: 1280px) {
  /* Extra large devices */
  :root {
    --section-padding: var(--space-2xl);
  }
}

/* ========================================
   Utility Classes
   ======================================== */

/* Responsive display utilities */
.responsive-flex {
  display: flex;
  flex-wrap: wrap;
  gap: var(--grid-gap);
}

.responsive-grid {
  display: grid;
  gap: var(--grid-gap);
  grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
}

/* Fluid padding/margin utilities */
.p-fluid {
  padding: var(--space-md);
}

.px-fluid {
  padding-inline: var(--space-md);
}

.py-fluid {
  padding-block: var(--space-md);
}

.m-fluid {
  margin: var(--space-md);
}

/* Responsive text utilities */
.text-responsive {
  font-size: var(--text-base);
  line-height: 1.5;
}

.text-responsive-sm {
  font-size: var(--text-sm);
}

.text-responsive-lg {
  font-size: var(--text-lg);
}

/* Container utilities */
.container-responsive {
  width: 100%;
  margin-inline: auto;
  padding-inline: var(--space-md);
}

@media (min-width: 640px) {
  .container-responsive {
    max-width: var(--container-sm);
  }
}

@media (min-width: 768px) {
  .container-responsive {
    max-width: var(--container-md);
  }
}

@media (min-width: 1024px) {
  .container-responsive {
    max-width: var(--container-lg);
  }
}

@media (min-width: 1280px) {
  .container-responsive {
    max-width: var(--container-xl);
  }
}

/* ========================================
   Component-Specific Responsive Fixes
   ======================================== */

/* SwimLane Timeline - Prevent horizontal scroll */
.swimlane-timeline {
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
  scrollbar-width: thin;
  -webkit-overflow-scrolling: touch;
}

/* Hide scrollbars on desktop if not needed */
@media (min-width: 1366px) {
  .swimlane-timeline:not(.force-scroll) {
    overflow-x: hidden;
  }
}

/* Circular Clock - Responsive sizing */
.circular-clock {
  width: min(90vw, 400px);
  height: min(90vw, 400px);
  margin: auto;
}

/* Eisenhower Matrix - Fix container sizing */
.eisenhower-scatter-container {
  width: 100%;
  height: min(70vh, 600px);
  min-height: 300px;
  position: relative;
}

/* Arco Grid Responsive Override */
.arco-row {
  margin-left: calc(var(--grid-gap) / -2);
  margin-right: calc(var(--grid-gap) / -2);
}

.arco-col {
  padding-left: calc(var(--grid-gap) / 2);
  padding-right: calc(var(--grid-gap) / 2);
}

/* ========================================
   Touch-Friendly Adjustments
   ======================================== */

@media (hover: none) and (pointer: coarse) {
  /* Touch devices */
  
  /* Increase tap targets */
  button,
  a,
  input[type="checkbox"],
  input[type="radio"],
  .clickable {
    min-height: var(--button-min-height);
    min-width: var(--button-min-height);
  }
  
  /* Add more spacing for touch */
  .touch-friendly {
    padding: var(--space-md);
    margin-bottom: var(--space-sm);
  }
  
  /* Disable hover effects on touch */
  .hover-effect:hover {
    transform: none;
    box-shadow: none;
  }
}

/* ========================================
   Print Styles
   ======================================== */

@media print {
  /* Hide non-essential elements */
  .no-print,
  .sidebar,
  .header,
  .footer,
  button,
  .modal {
    display: none !important;
  }
  
  /* Optimize for print */
  body {
    font-size: 12pt;
    line-height: 1.5;
    color: black;
    background: white;
  }
  
  /* Ensure content fits on page */
  .container-responsive {
    max-width: 100%;
    padding: 0;
  }
}