#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run type checking and linting before push
echo "ğŸ” Running pre-push checks..."

# Run TypeScript check
echo "ğŸ“ Checking TypeScript..."
npm run typecheck || {
  echo "âŒ TypeScript check failed. Please fix errors before pushing."
  exit 1
}

# Run ESLint in quiet mode (only show errors, not warnings)
echo "ğŸ” Running ESLint check (errors only)..."
npx eslint . --quiet || {
  echo "âŒ ESLint found errors. Please fix them before pushing."
  echo "To see all warnings too, run: npm run lint"
  exit 1
}

echo "âœ… Pre-push checks passed!"